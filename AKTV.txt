


<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>AKTV</title>
<meta property="og:title" content="AKTV" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AKTV LIVE" />
<!--<meta property="og:description" content="A repo for messing around with GitHub" />-->
<!--<link rel="canonical" href="https://davidgilbertson.github.io/about-github/" />-->
<!--<meta property="og:url" content="https://davidgilbertson.github.io/about-github/" />-->
<!--<meta property="og:site_name" content="about-github" />-->
<script type="application/ld+json">
{"name":"about-github","description":"A repo for messing around with GitHub","author":null,"@type":"WebSite","url":"https://davidgilbertson.github.io/about-github/","image":null,"publisher":null,"headline":"about-github","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="description" content="A repo for messing around with GitHub"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/style.css?V=2">
    <script src="/jquery.js"></script>
    
  </head>
  
      <style>
        /*body { background-color: #000; color: white; text-align: center; }*/
        #topology { width: 100%; height: 80vh; margin: auto; }
    </style>
  
  <body>
    <section class="page-header">
      <h1 class="project-name">AKTV ç›´æ’­æºä¸­è½¬ç«™</h1>
        <!--<a href="https://github.com/davidgilbertson/about-github" class="btn">View on GitHub</a>-->
      <h2>
          <img src="/img/1f680.gif" style="width: 38px;position: relative;top: 10px;left: -5px;">
          åœ¨çº¿é«˜é€Ÿæº:<status_online_api1></status_online_api1>ä¸ª
          <img src="/img/2757.gif" style="width: 38px;position: relative;top: 10px;left: 6px;">
          ç¦»çº¿:<status_offline_api1></status_offline_api1>ä¸ª
      </h2>
      <br>
      <h2 class="project-tagline">æ‚¨ç„¡æ³•æƒ³è±¡çš„500G+å¸¶å¯¬ï¼</h2>
      <h2 class="project-tagline">é›»è¦–è‡ºåŸç•«è³ªæ¯”åœ°å€æ©Ÿé ‚ç›’é‚„é«˜æ¸…ï¼</h2>
      <h2 class="project-tagline">500G ç‰¹å¤§å¸¦å®½ + é›†ç¾¤æœåŠ¡å™¨ å…¨çƒéƒ½æµç•…ï¼</h2>
      <h2 class="project-tagline">æµ·é‡å¸¶å¯¬ä¸é™æµé‡,é«˜é€Ÿç§’æ’­,æ­¡è¿ä½¿å‹å®£å‚³æ”¾å¿ƒå®£å‚³ï¼</h2>
      <br>
      
      <h2 class="project-tagline">ğŸ¤– å¤„ç†è´Ÿè½½:<span id="cpuRealPercent">0</span>%</h2>
      <h2 class="project-tagline">ğŸ“„ è¿å­˜è´Ÿè½½:<span id="memRealPercent">0</span>%</h2>
      <h2 class="project-tagline">ğŸ“¡ ç½‘ç»œè´Ÿè½½:<span id="NetOutSpeed3">0</span>% <span id="NetOutSpeed0"> </span></h2>
      
    </section>

    <section class="main-content">
        <p><span class="blue-text">æ‰€æœ‰è¦–é »æ”¶é›†ä¾†è‡ªäº’è¯ç¶²ï¼Œç”¨æ–¼ä¼ºæœå™¨çš„ç¶²çµ¡å’Œä»£ç¢¼æ¸¬è©¦!</span></p>
        <p><span class="red-text">å…è²»ä¸‹è¼‰å’Œä½¿ç”¨ï¼Œåš´ç¦æ¿«ç”¨å’Œå‡ºå”®ï¼</span></p>
        <p><span class="blue-text">All videos collected from the internet, used for network and code testing of servers!</span></p>
        <p><span class="red-text">Free to download and use. Abuse and sale are strictly prohibited!</span></p>
        
        <h1>å¦‚ä½•è·å–:</h1>
        <p>è®¢é˜…M3Uåœ°å€:http://aktv.space/live.m3u</p>
        
        
        <h1>è¿›é˜¶æ“ä½œ:</h1>
        <p>ä½ å¯ä»¥ä½¿ç”¨phpæˆ–è€…nginxåå‘ä»£ç†:http://aktv.space/live.m3u<br>é¢„é˜²ä¸»ç«™è¢«å°æ— æ³•æ›´æ–°æº</p>
        
        <h1>ç½‘ç»œæ‹“è¡¥:</h1>
        <div id="topology"></div>
        <!---
        <h1>å°†è§†é¢‘æ¨æµåˆ°AKTV:</h1>
        <p>å°†è§†é¢‘æ¨æµåˆ°AKTV,å°æ°´ç®¡è½»æ¾å˜æˆå¤§æ°´ç®¡ï¼</p>
        <p>å¼€å‘ä¸­</p>
        --->
    </section>

    
  </body>
</html>


<script type="text/javascript">
$.getJSON("/online.json",function(result){
    $("status_online_api1").append(result.online);
    $("status_offline_api1").append(result.offline);
});


(function() {
    const targetDomain = "aktv.space";
    if (window.location.hostname !== targetDomain) {
        window.location.href = `http://${targetDomain}`;
    }
})();


getJSONData();
function getJSONData(){
	setTimeout("getJSONData()", 1000);
	$.getJSON("/apps/server_api.php",function(dataJSON){
	    $("#memRealPercent").html(calculateMemoryUsage(dataJSON.mem).actualUsage);// è¿å­˜è´Ÿè½½
	    $("#NetOutSpeed3").html(calcBandwidthUsage(dataJSON.up).toFixed(1));// upnet
	    $("#cpuRealPercent").html(dataJSON.cpu[0]);// cpu
	    
	    if($("#NetOutSpeed3").html()>100){
	        $("#NetOutSpeed0").html(`  <img src="/img/1f525.gif" style="width: 38px;position: relative;top: 10px;left: 6px;">ç½‘ç»œè¶…é¢‘`)
	    }else{
	        $("#NetOutSpeed0").html("")
	    }
	    
    });
}



function calcBandwidthUsage(kb) {
    const totalKBps = 125000; // 1Gbps = 125000 KB/s
    return (kb / totalKBps) * 100;
}


function calculateMemoryUsage(mem) {
    const { memTotal, memFree, memAvailable, memRealUsed } = mem;

    // æ–¹å¼1: ç‰©ç†å†…å­˜ä½¿ç”¨ç‡ï¼ˆä¸è€ƒè™‘ç¼“å­˜å’Œç¼“å†²ï¼‰
    const physicalUsage = ((memTotal - memFree) / memTotal) * 100;

    // æ–¹å¼2: å®é™…å¯ç”¨å†…å­˜è®¡ç®—ï¼ˆè€ƒè™‘ç¼“å­˜å’Œç¼“å†²ï¼‰
    const actualUsage = ((memTotal - memAvailable) / memTotal) * 100;

    // æ–¹å¼3: çœŸå®ä½¿ç”¨ç‡ï¼ˆç›´æ¥ä½¿ç”¨ memRealUsedï¼‰
    const realUsage = (memRealUsed / memTotal) * 100;

    return {
        physicalUsage: physicalUsage.toFixed(1),
        actualUsage: actualUsage.toFixed(1),
        realUsage: realUsage.toFixed(1)
    };
}
// // ç¤ºä¾‹
// console.log(calcBandwidthUsage(50000).toFixed(2) + "%"); // å‡è®¾ 50000 KB/s
// console.log(calcBandwidthUsage(125000).toFixed(2) + "%"); // æ»¡è½½ 100%
// console.log(calcBandwidthUsage(10000).toFixed(2) + "%"); // å‡è®¾ 10000 KB/s


</script>

<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.0/dist/echarts.min.js"></script>
<script>
var nodes = [
        { name: "1å·ç›´æ’­æœåŠ¡å™¨", category: 0, symbolSize: 160 },
        { name: "AKTV ä¸»æœåŠ¡å™¨", category: 0, symbolSize: 64 },
        { name: "AKTV èŠ‚ç‚¹", category: 1, symbolSize: 40 },
        { name: "æ‚¨", category: 1, symbolSize: 32 },
    ];
    
var transformedData=[]


var links = [
        { source: "1å·ç›´æ’­æœåŠ¡å™¨", target: "AKTV ä¸»æœåŠ¡å™¨" },
        { source: "AKTV ä¸»æœåŠ¡å™¨", target: "AKTV èŠ‚ç‚¹" },
        { source: "AKTV èŠ‚ç‚¹", target: "æ‚¨" },
    ];

var links_transformedData=[]

function createTopology(containerId) {
    const chart = echarts.init(document.getElementById(containerId));



    // å¤„ç†å¸¦æµåŠ¨åœ†ç‚¹çš„è¿æ¥
    const linksWithEffect = links_transformedData.map(link => ({
        ...link,
        lineStyle: {
            color: "#000",
            width: 2
        },
        emphasis: { lineStyle: { width: 4 } }, // æ‚¬åœæ—¶åŠ ç²—
        effect: {
            show: true,
            symbol: "circle", // åœ†ç‚¹
            symbolSize: 6,
            color: "#ffcc00",
            trailLength: 0.4, // å°¾å·´é•¿åº¦
            loop: true, // æ˜¯å¦å¾ªç¯
            period: 3 // é€Ÿåº¦ï¼ˆç§’ï¼‰
        }
    }));

    // é…ç½® ECharts å…³ç³»å›¾
    const option = {
        // backgroundColor: "#000", // é»‘è‰²èƒŒæ™¯
        title: {
            // text: "P2P ç½‘ç»œæ‹“æ‰‘ï¼ˆæµåŠ¨æ•°æ®ï¼‰",
            textStyle: { color: "#fff" }
        },
        tooltip: { formatter: "{b}" }, // æ‚¬åœæ˜¾ç¤ºèŠ‚ç‚¹åç§°
        series: [{
            type: "graph",
            layout: "force",
            force: { repulsion: 500, edgeLength: 200 }, // çº¿é•¿åº¦   åŠ›å¯¼å‘å¸ƒå±€
            roam: true, // å…è®¸ç¼©æ”¾ã€æ‹–æ‹½
            draggable: true,
            data: transformedData,
            links: linksWithEffect, // ä½¿ç”¨å¸¦æœ‰æµåŠ¨æ•ˆæœçš„è¿æ¥
            categories: [
                { name: "AKTV ç›´æ’­æœåŠ¡å™¨", itemStyle: { color: "#155799" } },
                { name: "AKTV NODE", itemStyle: { color: "#1e90ff" } },
                { name: "èŠ‚ç›®", itemStyle: { color: "#159957" } },
                { name: "èŠ‚ç›®ä¸‹çº¿", itemStyle: { color: "#ff4d4d" } },
            ],
            label: {
                show: true,
                color: "#000",
                fontSize: 10
            }
        }]
    };

    chart.setOption(option);
}


$.getJSON("/live.json",function(jsonData){
    
    // å¤„ç†ç‚¹
    transformedData = jsonData.map(item => ({
        name: `${item.name}${item.checkStream.status === "online" ? "[åœ¨çº¿]" : "[ç¦»çº¿]"}`,
        category: item.checkStream.status === "online" ? 2 : 3,
        symbolSize: 64
    }));
    transformedData = [...transformedData, ...nodes];
    
    // å¤„ç†é“¾æ¥çº¿
    links_transformedData = jsonData.map(item => ({
        source: `${item.name}${item.checkStream.status === "online" ? "[åœ¨çº¿]" : "[ç¦»çº¿]"}`,
        target: "1å·ç›´æ’­æœåŠ¡å™¨",
    }));
    links_transformedData = [...links_transformedData, ...links];
    
    console.log(transformedData);
    // åˆ›å»ºæ‹“æ‰‘å›¾
    createTopology("topology");
    
});


</script>
